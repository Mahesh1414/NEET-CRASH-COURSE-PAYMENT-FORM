<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BRYLL EDUCATION</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <style>
            body{
                background: -webkit-linear-gradient(left, #055a4f, #00c6ff);
            }
            .register .nav-tabs .nav-link:hover{
                border: none;
            }
            .text-align{
                margin-top: -3%;
                margin-bottom: -9%;

                padding: 10%;
                margin-left: 30%;
            }
            .form-new{
                margin-right: 22%;
                margin-left: 20%;
            }
            .lab{
                color: white;
                font-size: x-large;
            }
            .terms{
                color: white;
                text-align: justify;
                font-size: larger;
            }
            .register-heading{
                margin-left: 0%;
                margin-bottom: 0%;
                display: flex;
                color: #e9ecef;
            }
            .register-heading h1{
                margin-left: 21%;
                margin-bottom: 10%;
                color: #e9ecef;
            }
            .register{
                margin-top: 3%;
                padding: 3%;
            }
            .btnSubmit
            {
                width: 50%;
                border-radius: 1rem;
                padding: 1.5%;
                color: #fff;
                background-color: #03612e;
                border: none;
                cursor: pointer;
                margin-right: 6%;
                color: rgb(246, 246, 252);
                margin-top: 4%;
            }
            .col-md-12{
                position: relative;
                margin-right: 100%;
                width: auto;
                min-height: 1px;
                padding-right: 0px;
                padding-left: 0px;}

/* Customize the label (the container) */
.checkboxcon {
  display: block;
  position: relative;
  padding-left: 35px;
  margin-bottom: 12px;
  cursor: pointer;
  font-size: 22px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Hide the browser's default checkbox */
.checkboxcon input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
}

/* Create a custom checkbox */
.checkmark {
  position: absolute;
  top: 0;
  left: 0;
  height: 25px;
  width: 25px;
  background-color: #eee;
}

/* On mouse-over, add a grey background color */
.checkboxcon:hover input ~ .checkmark {
  background-color: #ccc;
}

/* When the checkbox is checked, add a blue background */
.checkboxcon input:checked ~ .checkmark {
  background-color: #2196F3;
}

/* Create the checkmark/indicator (hidden when not checked) */
.checkmark:after {
  content: "";
  position: absolute;
  display: none;
}

/* Show the checkmark when checked */
.checkboxcon input:checked ~ .checkmark:after {
  display: block;
}

/* Style the checkmark/indicator */
.checkboxcon .checkmark:after {
  left: 9px;
  top: 5px;
  width: 5px;
  height: 10px;
  border: solid white;
  border-width: 0 3px 3px 0;
  -webkit-transform: rotate(45deg);
  -ms-transform: rotate(45deg);
  transform: rotate(45deg);
}

    </style>

</head>
<body>
<div class="container register">
            <div class="row">
                <div class="col-md-12">
                        <div class="tab-pane fade show active text-align form-new" id="home" role="tabpanel" aria-labelledby="home-tab">
                            <h3 class="register-heading">BRYLL EDUCATION PURCHASE WINDOW</h3><br>
                            <div class="row register-form">
                                <div class="col-md-12">
                                    <form method="post" autocomplete="off" name="google-sheet" onsubmit="return main(event)">
                                        <div class="form-group">
                                            <input type="text" id="name" name="Name" class="form-control" placeholder="Full Name *" value=""/>
                                        </div>
                                        <div class="form-group">
                                            <input type="text" id="email" name="Email" class="form-control" placeholder="Email Address" value=""/>
                                        </div>
                                        <div class="form-group">
                                            <input type="number" id="phoneNumber"name="Phone" class="form-control" maxlength="10" placeholder="Mobile Number *" value=""/>
                                        </div>
                                        <div class="form-group">
                                            <input type="text" id="teleusr" name="Telegram Username" class="form-control" placeholder="Telegram Username *" value=""/>
                                        </div>
                                        <div class="form-group">
                                            <input type="number" id="teleid" name="Telegram id" class="form-control" placeholder="Telegram ID *" value=""/>
                                        </div>
                                        <div class="form-group">
                                            <label for="batch" class="lab">Choose the Batch you want to purchase.</label>
                                            <select name="Batch" id="batch">
                                                <option value="" id="none">--Please choose the batch--</option>
                                                <option value="neet" id="neetcrash">NEET CRASH COURSE 2022 </option>
                                                <option value="11th revision" id="11threvision">LAKSHYA NEET 11th Revision Series</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            
                                            <label class="checkboxcon terms"><input type="checkbox" id="checkbox1" name="Terms Non Refundable" value="accepted" required/><span class="checkmark"></span> I have acknowledged that my payment is non-refundable.</label>
                                        </div>
                                        <div class="form-group">
                                            <label class="checkboxcon terms"><input type="checkbox" id="checkbox2" name="Terms Information Correct" value="accepted" required/><span class="checkmark"></span> I assure that all the information I provided is double-checked and it is correct.</label>
                                        </div>
                                        <div class="form-group">
                                            <input type="submit" id="btn" name="submit" class="btnSubmit btn-block" value="Submit"/>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
`        </div>          
<script>
function sleep(ms){return new Promise(resolve => setTimeout(resolve, ms));}
const scriptURL = 'https://script.google.com/macros/s/AKfycbyxVAv6EmkQiPfpXGNrpP-6e4fjOLSrUfV9LTHh2BHC_4U5RENF-Urn3wwZXTPZ3F7CDQ/exec'

async function main(e){

const form = document.forms['google-sheet']
var number = document.getElementById("phoneNumber").value;
var teleid = document.getElementById("teleid").value;
var teleusr = document.getElementById("teleusr").value;
var name = document.getElementById("name").value;
var email = document.getElementById("email").value;
var batch = document.getElementById("batch").value;
var crash = document.getElementById("neetcrash").value;
var revision11 = document.getElementById("11threvision").value;

if (name == ""){alert("Please type a Name"); e.preventDefault(); return}
else if (email.includes("@") == false){alert("Please type a valid Email"); e.preventDefault(); return}
else if (number.length != 10){alert("your phone number is incorrect: " + number); e.preventDefault(); return}
else if (teleusr.includes("@") == false){alert("Please write your UserName in the correct format with '@'"); e.preventDefault(); return}
else if (teleid.length <= 8){alert("your telegramID is incorrect:", teleid); e.preventDefault(); return}
else if (batch == ""){alert("Please choose the batch"); e.preventDefault(); return}
else{e.preventDefault();}

if (batch == crash){
    alert("You are interested to purchase NEET CRASH COURSE 2022.");
    await sleep(1000);
    fetch(scriptURL, { method: 'POST', body: new FormData(form)})
      .then(response => open("https://rzp.io/i/vbKKLcne","_self"))
      .catch(error => console.error('Error!', error.message))
    return}

else if (batch == revision11){
    alert("You are interested to purchase LAKSHYA NEET 11th Revision Series.");
    await sleep(1000);
    fetch(scriptURL, { method: 'POST', body: new FormData(form)})
      .then(response => open("https://rzp.io/i/0hSHm2iZbL","_self"))
      .catch(error => console.error('Error!', error.message))
    return}



//fetch(scriptURL, { method: 'POST', body: new FormData(form)})
//      .then(response => open("https://rzp.io/i/frDdjRgsX","_self"))
//      .catch(error => console.error('Error!', error.message))

}
</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</body>
</html>
